import{d as w,i as S,j as _,c as a,a as e,t as A,k as U,l as B,h as n,_ as k,r as $,o as E,m as j,b as l,p as P,w as y,g as x,u as v,I as g,q as I,n as b,s as R,v as z}from"./index-C5EFz0i3.js";const H={class:"w-56 bg-white rounded-lg shadow-lg ring-1 ring-slate-200",role:"dialog","aria-label":"Perfil del administrador"},M={class:"p-4"},N={class:"text-sm font-medium text-slate-900"},V={class:"text-xs text-slate-500 mt-1"},D=w({__name:"perfilPanelAdmin",props:{user:{}},emits:["logout"],setup(f,{emit:t}){const o=f,d=t,s=S(),i=_(()=>o.user??s.currentUser??{id:0,name:"administrador",email:"admin@shoplight.com",role:"admin",createdAt:void 0,updatedAt:void 0});function m(){try{U()}catch{}try{s.clearUser()}catch{}try{B.info("Sesión cerrada correctamente")}catch{}d("logout")}return(c,p)=>(n(),a("div",H,[e("div",M,[e("div",N,A(i.value.name),1),e("div",V,A(i.value.email),1)]),e("div",{class:"border-t border-slate-100"},[e("button",{onClick:m,class:"w-full text-left px-4 py-3 text-slate-700 hover:bg-slate-50"},"Cerrar sesión")])]))}}),q=k(D,[["__scopeId","data-v-7b18e5ec"]]),T={class:"bg-white shadow-sm sticky top-0 z-50"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"flex items-center justify-between h-20"},G={class:"flex items-center gap-6"},J={key:0,src:I,alt:"ShopHub",class:"h-8 w-auto"},K={key:1,class:"text-2xl font-extrabold text-slate-900"},O={class:"flex items-center gap-4"},Q=["aria-expanded"],X={key:0,class:"absolute right-0 mt-2 z-30"},Y=w({__name:"headerLayourAdmin",props:{logoExists:{type:Boolean},user:{},showProfile:{type:Boolean}},emits:["toggle-profile","logout","purchases","close-profile"],setup(f,{emit:t}){const o=f,d=t,s=$(null);function i(u){const r=u.target;s.value&&!s.value.contains(r)&&o.showProfile&&d("close-profile")}E(()=>document.addEventListener("click",i)),j(()=>document.removeEventListener("click",i));const m=_(()=>o.user??null),c=_(()=>o.logoExists??!0),p=_(()=>o.showProfile??!1),h=_(()=>!!(o.user&&o.user.id));return(u,r)=>{const C=P("router-link");return n(),a("header",T,[e("div",W,[e("div",F,[e("div",G,[l(C,{to:"/",class:"flex items-center gap-3"},{default:y(()=>[c.value?(n(),a("img",J)):(n(),a("span",K,"ShopHub"))]),_:1}),r[2]||(r[2]=e("nav",{class:"hidden md:flex items-center gap-4 text-slate-700"},null,-1))]),r[3]||(r[3]=e("div",{class:"flex-1 px-4 text-center"},[e("h1",{class:"text-lg font-semibold text-slate-800"},"Bienvenidos al administrador del sistema")],-1)),e("div",O,[e("div",{class:"relative",ref_key:"profileRef",ref:s},[e("button",{onClick:r[0]||(r[0]=L=>u.$emit("toggle-profile")),class:"flex items-center gap-2 text-slate-700 hover:text-slate-900","aria-expanded":p.value},[l(v(g),{icon:"mdi:account-circle-outline",width:"22",height:"22"})],8,Q),p.value&&h.value?(n(),a("div",X,[l(q,{user:m.value||void 0,onLogout:r[1]||(r[1]=L=>u.$emit("logout"))},null,8,["user"])])):x("",!0)],512)])])])])}}}),Z=k(Y,[["__scopeId","data-v-74995dec"]]),ee={class:"flex items-center justify-center mb-4"},te={class:"flex items-center gap-2 justify-center w-full"},se={key:0,class:"text-sm font-semibold text-slate-800 text-center"},oe={key:1,class:"sr-only"},ae=["aria-pressed","title"],ne={class:"flex flex-col gap-2"},le={class:"flex items-center justify-center w-6"},ie={key:0,class:"text-sm font-medium"},re={class:"flex items-center justify-center w-6"},ce={key:0,class:"text-sm font-medium"},de={class:"flex items-center justify-center w-6"},ue={key:0,class:"text-sm font-medium"},me={key:0,class:"mt-auto text-xs text-slate-400 px-3"},_e=w({__name:"sidebarAdmin",setup(f){const t=$(!1),o=R();function d(){t.value=!t.value}function s(i){return i==="/adminproductos"?o.path==="/adminproductos":o.path===i||o.path.startsWith(i+"/")}return(i,m)=>{const c=P("router-link");return n(),a("aside",{class:b(["bg-white border-r h-screen p-3 transition-all duration-200 ease-in-out flex flex-col",t.value?"w-20":"w-56"])},[e("div",ee,[e("div",te,[t.value?(n(),a("span",oe,"Módulos")):(n(),a("h2",se,"Módulos")),e("button",{onClick:d,class:"p-1 rounded-md text-slate-600 hover:bg-slate-100 ml-2 flex-shrink-0","aria-pressed":t.value,title:t.value?"Expandir":"Plegar"},[l(v(g),{icon:t.value?"mdi:chevron-right":"mdi:chevron-left",width:"20",height:"20"},null,8,["icon"])],8,ae)])]),e("nav",ne,[l(c,{to:"/adminproductos",class:b(["flex items-center gap-3 px-3 py-2 rounded-md text-slate-700 hover:bg-slate-100",s("/adminproductos")?"bg-slate-100 font-semibold":""]),"aria-label":"Productos",title:"Productos"},{default:y(()=>[e("div",le,[l(v(g),{icon:"uil:box",width:"24",height:"24"})]),t.value?x("",!0):(n(),a("span",ie,"Productos"))]),_:1},8,["class"]),l(c,{to:"/adminproductos/usuarios",class:b(["flex items-center gap-3 px-3 py-2 rounded-md text-slate-700 hover:bg-slate-100",s("/adminproductos/usuarios")?"bg-slate-100 font-semibold":""]),"aria-label":"Usuarios",title:"Usuarios"},{default:y(()=>[e("div",re,[l(v(g),{icon:"mdi:user",width:"24",height:"24"})]),t.value?x("",!0):(n(),a("span",ce,"Usuarios"))]),_:1},8,["class"]),l(c,{to:"/adminproductos/categorias",class:b(["flex items-center gap-3 px-3 py-2 rounded-md text-slate-700 hover:bg-slate-100",s("/adminproductos/categorias")?"bg-slate-100 font-semibold":""]),"aria-label":"Categorías",title:"Categorías"},{default:y(()=>[e("div",de,[l(v(g),{icon:"material-symbols:category",width:"24",height:"24"})]),t.value?x("",!0):(n(),a("span",ue,"Categorías"))]),_:1},8,["class"])]),t.value?x("",!0):(n(),a("div",me," © ShopLight "))],2)}}}),fe=k(_e,[["__scopeId","data-v-b3e674ee"]]),pe={class:"min-h-screen flex flex-col"},he={class:"flex flex-1 bg-gray-50"},xe={class:"flex-1 p-6"},ve=w({__name:"homeAdmin",setup(f){const t=z(),o=S(),d=_(()=>o.currentUser??void 0),s=$(!1);function i(h){console.log("Buscar (admin):",h)}function m(){t.push("/miscompras")}function c(){s.value=!s.value}function p(){s.value=!1;try{o.clearUser()}catch{}t.push("/")}return(h,u)=>{const r=P("router-view");return n(),a("div",pe,[l(Z,{user:d.value,logoExists:!0,showProfile:s.value,onSearch:i,onPurchases:m,onToggleProfile:c,onLogout:p,onCloseProfile:u[0]||(u[0]=C=>s.value=!1)},null,8,["user","showProfile"]),e("div",he,[l(fe),e("main",xe,[l(r)])])])}}}),be=k(ve,[["__scopeId","data-v-f3a41eae"]]);export{be as default};
